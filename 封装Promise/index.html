<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>封装Promise</title>
</head>
<body>
<button id="btn">按钮</button>
</body>
<script src="./Opromise.js"></script>
<script>





var a = new Opromise(function(resolve,reject){
  var btn = document.querySelector('#btn');
  btn.onclick = function() {
    reject("success");
  }
});
// a.then(function(param){
//   console.log(param);
//   return Opromise.reject('hello');
// }).then(function(param) {
//   console.log('123'+param);
// }).catch(function(param) {
//   console.log(param);
// })


var b = new Opromise(function(resolve,reject) {
  resolve(123);
});
// b.then(function(){
//   console.log('abc')
// }).catch(function(){
//   console.log('bcd');
// });

Opromise.all(a,b).then(function(param) {
  console.log(param);
}).catch(function(param){
  console.log("bbb"+param);
})




























/*var aaa = new Opromise(function(resolve,reject){
  var btn2 = document.querySelector('#btn2');
  console.log('sddf');
  btn2.onclick = function() {
    resolve('123');
  }
})

aaa.then(function(param) {
  console.log(param);
})*/
</script>
</html>